<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <title>Spring Security Example</title>
</head>
<body>

<div class="container-fluid m-0 p-0">

    <!-- Навигация -->
    <nav class="navbar navbar-dark bg-dark">
        <span class="text-white h5">
            <b><th:block th:text="${user.email}"></th:block></b>
            <th:block th:text="'with roles: '"></th:block>
            <th:block th:text="${user.role}"></th:block>
        </span>

        <span class="h6">
            <a class="text-secondary" th:href="@{/logout}">Logout</a>
        </span>
    </nav>


    <div class="row m-0 p-0">
        <!-- Боковое меню -->
        <div class="col-md-2 p-0">
            <div class="bg-white vh-100 m-0 p-0 w-100">
                <ul class="list-group list-group-flush">
                    <li sec:authorize="hasAnyRole('ROLE_ADMIN')">
                        <a class="list-group-item mt-3" th:href="@{/admin}">Admin</a>
                    </li>
                </ul>
                <ul class="list-group">
                    <a class="list-group-item active" th:href="@{/user}">User</a>
                </ul>
            </div>
        </div>


        <div class="col-md-10 p-3 bg-light">
            <div class="h1 ml-3">User information-page</div>

            <div class="container-fluid m-2 p-2">

                <div class="border h5 p-3 m-0">All users</div>

                <div class="border p-3 bg-white">

                    <table class="table table-striped">
                        <thead>
                        <tr>
                            <th scope="col">ID</th>
                            <th scope="col">Name</th>
                            <th scope="col">Age</th>
                            <th scope="col">Email</th>
                            <th scope="col">Role</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td th:text="${user.id}">id</td>
                            <td th:text="${user.name}">firstName</td>
                            <td th:text="${user.age}">age</td>
                            <td th:text="${user.email}">email</td>
                            <td th:text="${user.role}">role</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>





<h1>User, welcome spring boot security page!</h1>

<h3>Your Email:</h3>
<p th:text="${user.getUsername()}">Value</p>
<br />

<a th:href="@{/logout}">Logout</a>

</body>
</html>